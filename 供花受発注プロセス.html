<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>供花受発注プロセス</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">供花受発注プロセス</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"6ff9da0fbd07996392a2806a8d986e464afb27400a245ea63c3d508f517e5d0459aff7ba1e300954bc7a906ea3d2b6da3bbdd0c47c8442976a761baf08b1237104c7ebdbc76d1ebe4fabc69d11b584e9bc5a39283b73d408aaa73f68119714001785501ed908d7792683d56f5154a67fad4d76cef95f0ddeee84dd84c850b2bbbe04575535b9aa6845dcf16932026c00623ac0f27745272ba452371e58cbb52b168c43250ac9aa9efcb9cd69affb27861ed3df63049428ef1c81159dab39ad80a8c2dfd6a0f388eaa3ad75897934083295489494806ad9614c332052873397d4b86340323acd07d59d5a067e0c85f14d3832e27754af2e58490f73aff975a4c11c790598d2909eebf4615bfe290f25199de003e720133bb77c988467431ce6776aac7c754b27046fe7a848d91459d54c1eae62ec941c5b9b14d2cd5555a8419075b54e34825f8b95ac145b9e79d01797a57f9725d4ebd0e5f198930d68892ebac6edbecb8d7349c3e2aad6afdb1bb99efcd8f141f6eebf86f1dddfb924eab9d53efd8924a3fb76adf908e017622c19d3262d1cc2783c01cf8bd976d4c51f4b6c18217e79a2886586aacfc7931afb5e31d719a41af3236b3da073ead0e8e96340ed2752ed32c02dc9732596769412f775c6277df44f445210561b43166a3c6a1d9bfe6fd733bccb5614f84a90ef85720a14e8d68f7dd813dd653e1eb7856b719014d4decf718e89d9099442ec829a84bbc9585ecc4ce99cb5b03ca055156f0163623c9769ec04cbfe53b30a1f6ffd7a4f3cd902c2ec5f45c01e59ed3f665834b3f75d9e9d007f5d712cbecbdc250a10ba2e447fe3c2ae507d75281e5ef465f097624029af471f3f88dcf19f526ac82e2c9b7152f42ce225cf6e2dff75b05245f57ee73d17e55c55636fa7d1103392da7ddcbb33900c0463b1f351f442b0061b9578a186e95c112ee2dfdcdc6dc3fe584bda8069fb238e6c0351998880b89338ee2606eacea855b571d7e7f6dc003d6337ab15f70b75586ea78e6e78e8f2c1dd840bc36aff594349d3749d81e122ff0e5e3aa861bd021c70f89e7b56aa0396d91f858857157d420b93396e055b5a0ea82ae282270369ee01d00e6a3c559660a2747ca0f9b823a83240edb1e81fb8bc55d4cbd925f71ceb2447b11ad7581c3355982cf9183e9c3ab23847613fce937039437acdf01e5ab79e20a83b9a37c17e693676d420891e599ec91f245c03caccfedbe30eabe2a3c2d57ba8116d1ed8c8298eaacb86544501cc9a21a8319d5e33665ebc2010a3bc9499762a5e5435effe033a9b29e99eb8dffeae8342aa404d9c0d5580ca526eb782f20de0614f475c393c55e8f0ca806f8c4c2297dd8cb1ad7b7cb18eb7d4cca3d26a1c44183b2cc50a439f65f467fa53b5962c3a37f1bbae01915d941c5ba8f5b6c98450fa538f72486548d96cbe27b0fc30711a3e8ca2986c37e979641df8ff81748f412dd5d8d225358abd805531dd964443e4fe7168d83c61042b44d9b731622f8e08db929ab0998aac0222ecb86918d5406df4c9f7377a72a1477486725378762ba191f796b2233e9a6e0949fcd2ea1900a54ce6f5f4cb857e0faec4fad3cfa8f28246e8d437d2307399a1942f3c96f02045aa9b93299a711b223c5879d08b9f1b9bf2e5c8de1219ecf458efa63cc30dd04a50e03acfd414bf60ab74eec4c848b77220664cd12054cdfcbc597063a06bf9a5f7a9c708855cb31f4309045592779ab80e5fe9ee86605b06836a35b719adca82764a983073f91e57571aaeedd1ec3030cd3a6798243e9d46a81c1b12653b4a997a21ee5c0fcb918eeaee6d81de2d3c7b8786bf3c39d95eac1bd4c524249bdf8324f8785e44d8219194cae44d1e39976daf406622f4b2191f59a77e70af1dd49bc8148d52afa87daa24999e5d969e5deea52bbfaa7c70032bafea7d7515ec0df4e239b6507ae74ea5e7a259f71a846c34c213d6644dea40537ad0d2a0b82f6e01849261e8c3ca7b78044046c4ebd6aaeb9a2ae8ccf5b50e18d7ff5757a46f06a1a60167567312ae38c18251d8858d4d0cbf895c4e872568af7050ea9613f3e4d6220eaaa06eab9de0572f1640f3aa62f6adeae94da4b694959a20262d7d5ed2857559b165399debf39ea0a544d6bd125a20b933758a4364d4370912e21619087d6fd8a73d09c97c234699ca3df7ab60815dfe16b45748a6cabd3f1e4496b8893e489086a647ba388df792546b14b51bd62487ad1bdc5f4e4c9791b7b0a542a81a175e9ca4e4ebdd359e0bf5154229b69a06eb257fb2913af4a1a5f93fd94e41571af06f0552bb167b24bfe533b4b2a083d84f33e4165f001999ebcced49d5efe2a90150935ecb8fe1765df9e7f55cde7b787caab38d63bd48ddf4c7a2aee6572aba23f651dca4679b2390c592eb7e252993c3a2a6e9ce27b609e30325ada389c78be36a94a1150f4a0440dfe7e936467dae57878e1494e44319cc3c17371b71441155bfcc87911c7ccabc980471930052f0feb9f58bfffe046f226a92907d1b8f9cf8f81cae7c5f8d0de01726a27adf6e0ea11384617c86a8f0e4cbff0782960c2de89480d0ddf167a1d9ec4c7dada4ed78d0c4b0db1f36873aae528cf82d249b3de4241cbc46d20eed7a9a6f902d49efc9f0a641a4f384f8525accf1473492008f4fb3c8c740a290c47deb1b59fbfd3f767ed3441252059d248317a90e6e70c003cb28af741eebaf16f3571ad86ee4b5ba4b3fae8ed7ccf07fc104785590b9dcf5d2d0a63a2c125c274d9c22dd966d4331f14c38e8036ff63b41b7c10b2ab2982e47570d18176b747c1f50218f54b258fc8f25b8cf14ab276b8c354d0327e3ce7b49a84469de04b5add59e7c3069380a86858cc05ec3ff04c65a47a8c04b101cc66f59eee3931ea2a7cf2b710fb4c707e23860ef34f72bb143464c13bd794df2f5fa26678ba877efce0ebf3abb0c40033be5c81c74eb7491bb644268367cc83cd58eec655b80dc88fee29fbee963319637495d9aa4d2edbc2ca61364164066452ff1e63d8144d4a9711cd44bfe67239c48d20b6a96cb77cb580d471c4beebf3048577625f9efc2997bffc21b8025bba673816f3294dfc5eebd800ea9e540f2da692e5624bcd5cf246fd3d8db9066fe0857fa1cfd6923f61a227b5d4c827f883851949cde4d8a745a941ef88178b13805b002b1642bbee985070c103fa4ebd3e5db0c766917e458b7d78fff180f9a6ca3f97fee21c099866e0d5e20da52e9ea2e1f9d3b5fd2c0b4d3d583ae1f8b9734af2b5e70d12420f6c10dcbe23ff3aa5af79d53b58e1d6f46134e67f53e7efc52a37b32d836ab484039b61b2da844d71eb74539cde18ba9d0244803e80da9845fc091ac3c6a73c3ef7e230741326fd4d854b76c6c431d9ca5f3544223923fdf9ef4d7a216ede60f22b9ee13fd9f3000fce7ec6549ea86b68ddddf0fd6ddd56d66ee59120582297a0069fb8caa8a71e5c186c0f3e8600efbb9ff4491d13fa05bbb3f49f0316fe52280a738f5dde05c4cd3dd000e3ca7948e45ad231e8043b4c6b6c4004ef3a821d5ddbdf57de8cb9088cce0647aa0d37837b2c4239d2fe4662aab00fc7f9b06f56e30219fc12eb4a1f253877583e4c0fd5b517baeffd844ebe629dd5cc861f6eaa82f9bdc3fb2ab01bc4abda7ad931fbd6b4154b03aca3418bf5e752cd2352b6471834650d1ab9cbbbf3af0f758ff076c70ecc709b26074580fb6ecc7513af96045f631f31cad5638e174b410be76feedf08da5c2789081b48e5ceea82f15a1d85b31694caecd8221ce0014cfbf6fc5f26610877697673d0be7f0e53f51e27077ae85adf1b0f4df71ae85eca386c607faf8a2399ec6681f62442944ba82a8b23e371859ca0f28cd6f2932f05da77ff71e1b713a7260be80e9ac5ee18cdcfb610a98c8dba1886f51f21c50366c83eb734123171ee5c6ee81ab2e24122ec3ac42ecf7e03083da5ff0abb7b1d2b8073435cdc1cc53447e90ee840323af3423cb98b0a4bc783a132dd751bd1147657cd17fcf34eee95c91fcd9d9b0711f511950ca4277651b078294fce201bbd8804a8d98664e6962b24e75b392938e54b054d36cb6894847c01eff706fdb67442ed22fd4a23da6e2810bfb9d0086125dab9cc0480bcb63a9aff56b495eb75d51e4311d2131fc4586b2f07ef0d1c919924c4b646fb80e93e595150ee5cd6227eece61086d039d1762fb266a4a9d1561f9b8c19a3f937c120429fa3d59bb81e51b5ebfcf981923c9bc0e9f6238f38bdb16c5926d0852c66050f9ceb0f4175b21132d54fa96bbf3ee18491ee55da595efc91350bc3b3e97c98742da9061770226b8981a048e8245ff224f1e43e981628d3695c57c995d9d4b7a1138fb6e4e6707f761cd85ae6c170424a8db91d0b19c0246b779ed2baf557b28a3585ebeb4e8e8e099576e2ba321f492dc25fd85117227b4a587a647da764c8715cf989bfe37f5b831dc9e64223fc2ca3a5a56400390bf123b77e826a71b52a4d40e77d7ac9b3c8795a28f390e821e4c804bd986db935b1f39803c500a987558a2757875b034849c2c7f718c4ae8d8dc953bf9afaeae2edc1391db7c32db30dabc0037d6f9b34c4f55174594ffb021cca5e7d44112ef5cd3c8f454e88a480894583674a4261736173a32ee6cf02206e8431fc31e7bd040f7364c0810ba7d9afb8e29f984dc476e4ae34c964dc4e862825bf6a261db3116bc2b369edaa141bec93ff8c207b3a27842a49cdb726d9b1f9989b77cd18c9baeceb942591d87f146cb1896c0d199a54bd78a1fd9aa9ae044957da48ba06ce85ad81e0a1997d18173ee7b732fff67716a0d90791e6c9ec607fbbdc8a65ef545af48e995c10be5ce9c8a3323902d51d63d8ab7609af7015b45952f6231ca7b4e161dd4cc94c01903ef327711b621e038c0c621a85d33e9fbc10ae1a5ad033228e71a1b675866ee9dbca56144982b577012d065a9fee2e3eb146ecc45949aeedd3816dbf1851373859b59c27fa415ba63de1fc80f1150955ea04380af581fe6ccdd8417af481458b80d6262b6f49c5948104a938c5e8e91568e5275474530a37d244526ab3314f2af22a3156983f7822ccdf3ce3f80f3a65a025028cb55a32bfe0401031b1e17d85fd3f4b81c4dbb2f733c6a71b252bc5312edca40219ca2c7cc3eb389b1887736b489f67fdd04997353a779185c2a1ed4eaad7c732b78aa371ebfb026ae676e5642f178ef046c29dbfd328904a26904b764fc6ca348fff2ca9b2804777e4294a1f28a85309e5e0e5970f29281f8ae49960341ac4cc78140438a0c531df514aafe187aaa4e210945f896415b41990a44257ecf6bc3f3a544ac371da396319b6ba085f70fb0d0abeb032033a1ed12621b3433493b09f81d46880de61fe20a6b87ce52bc104f5ed90725183a76f5fb12db2f9e0a6571d819b5d44b75a1f2014c11895b1149a48464481a85f8fa05f6a53ecec4266550a9989e58cfc8f1b5f00b4f8fb0da08af1468ecbb4f3e7af821d77185b856122fcc76bbfe369f0d845302807174f4fbcf3883d231cecffdc27a2c82c0c6dbf381c315e0581de94ad6d4575b8568cad80ff84771f7b7b942e972035a1d6bdc52e7301d1ced98195845f9b8e2c62750f7aac27dc78b3db62501fdcdf45a332d7bdbdbc0b477e6bdcd3fb47e6b0236557faa84fa5ec927f52a06c34879cb60dfb397b942a287b27570d2c58bacf42a2ec0ae19ed7214b349a4b9b782da6c457abac99ecca1eadf2272970a912938a13f8e4f435b6c5a1b12474780a5576944cf839a8c35120fd4b3f9acd739e9ca0edd4a101e6b613c36cecc7f2d187f8cafd4329ea4143dc5a236dc0aa54e3b4a7c506f5780ec58f4de1714ef2bbca43033fd5c5fc2e5fced14dac2b9d6c0694470a03536e9b7771a6c2914bbafb93972ca1d0103a110299561c2e73d61064011d66885da479e3c92131c473899d6ca35ef864c7152ae026a3331443a3d3e9f2a316cff0af65163e4d103efe62c648d3982bb30b454fb9b1209b0925aee3db43e276a4b694903fc947069b0cf7cedfa04b98d4c088dbddeb8eec7ac306c4dd0dd92cd7dc313a5cabb73bf73f2c406985a5b167265d198d4e6043ba7c40194ef71fd557cdbb4007e9efa3d9a5fe1c68795672d5c77623644a87d8a713e7d18d9532265e70a86cf35a32c9e403bac3f525e871b523d47847132a81aab71be2aeda9c3d1bdda9addd3a38c473933411d3f4eed29662cab6b7a7d0b7a4e0737eedd34be5501e0931ed9fae2c3cd1dcc81c880a29d5668cc83e9681a3f42549f673261380f301eb89ce10df6b3c14e7d6d411044249f9155f11f82b5bda01b7165283a8d2372aaaea0cc9b7df5501cc8c40f33f2ff1e233f9d647e0966b580d39eb0eacdf0f10b9488211e20151f615e9b66852eb660ce56861b9e4e8d2cbb59b16651950aa519e462ac2f8755b520368b237651b75a442537b8578b2f818a4e8299a53acf9af6fa503b6a61bd510da10b75b486393172bf1323500650e96302e4e276fa9691de603cbc09e8906e478d22212bab873972559b02ed859a66da8e02c324bbf76b9c1e83cf76155bfbf0f7d5f972dddfa1277d0bac1c3f8ae9305229453c6de83d933966da345f82442fab3bb832d4d4b86f4ea41ae31daa6252d3a0857f74257b15ba0f1415316a788a2ea686ac9ec88bdee7482c67c6167098e961f4773573e65980b13f2b9603a251927a9b1d9ffd572f325eac0230de35c44c79b15adcdd8df0d2e92d0b498456c2b12985f45751dc49dd46d910de4ea38b582a8e176a1bcdc7d7217a72e4faf2e8a5039722e3ad0ae10a0dd27ca7c9214f20c5590c66c9d21f4878ba21978e8de845c74ee2ec1a77cb5c25137f9a8cc9fdfd16f33e3154561563d65550ba626a1aa352ae012ba7c0eab89dfc23a8fce7cfcb21e2a15a6c19e433fa78c4cd7007cc5ad37de51b5e360eab400ebe7baa60f0e2c4500b6255d669f1136cc629959636a7118ece55787d4ff81d189c06aa91d8d9d03ca14985c2bc2ef1bc0132330a6ecf3fe9605adef87391647d627123ace53956a2210e8d508f12a4fce3c5db2182bc000fba3188635a8f69cdc50d2eb1bde9f6d164fbd96dcf1dac33a77ea096be2c7cc11a0ac2dabef50ad41c94315b72050ffaa05d40c74cc18405378030091458de8192956d4646647f5c1a2fd15afcca5130877006408530936ca90d813dd75089c58d824d68eeeaafeac65750fb0116270789557e694053c0916d24384be3746e770d2381982ae86c6889a7b64b35a0f1947bc97b30d74fe538a6a46fb54540b0284435cc04fe57442468c8cc663b67994e691b2b29e79ee335ec10d3601e6cb8574908952437c3ddd0936f18e1bda2f9142690739028e9b51f15f173aa3d9d7e51bcfc5bd0c69a4f9d8b4b4add0fb3f045c8240bf86498e8c70d34c2f2820cb6b9fd7550385597ac89d7901ad10d08b2b6188535d38aa08292a9e932ff3d3f2fded7f5bc09495c9cc286665d912a481dd232c03319cf4ef5cc99ec8d7e0baab91d79aa4cb2b85dde21814ada6ed8d9ebbebba43336c910b0fc873c56e9d693c9bed3ee36951006157d8507639f07ceda2d6a8e50c9b074d1ceeb03561e0828e3a6902147c1dbdd0103d99f8bae93c5a6b59a0ecac97cbfdb8fd2dccd2a6f9dc81fa34495cc69072330665e8ea2079709632fc83139ade80fdd3f428bb7c016055a4ef6c10885209778274f3313aadd5a45e44e8548912a41058f8f20a7da46ca1e7d30bea683e1b553d67ed947324bc64304f18bb04631cd23841a5eab63826a61617a9f6ca24e1b89ca518c43d115260e5508ca9aad677ac22f5dd3328b54bb3a20f9cd2635768905e164f682b22d6c4359d913a6aa2496eca2405701380cc75a2eb4b350d6141842b9c32b1a14f5234266d446c45ccf5cf707efdfebdf53a519b5cdef3a2ceafbda01414a2cb3def6fab8f6db32817bde89c0e36e2b2e23f5827bcb05c2d98e6d9364a60027ba1dcd5852eef51df99328f23f01a802820b98ba648bf9d3a491faeb27b79aef56092d9039177c467cf5ccb5951c43c673863c86d805a4ff63313d6410ba27292012aea76fe96a59c4b01a63520369b85421c453db3aed97577417ef4357bc32ac594601ab644c68517f4b6ffed0558973c122e01fb6a1a54236eb96021a716728cc2730fb8202c07db10607641c24ce76436c13373d02861dacf0e360fc79315f5eedffdd45a3016594ddc395597fa10f9b0983205eaa62f3f0fb253c354be06dd0df185be94503be0beabe8a8a6c4fab478e89968cf75fcf63a322e8764aadd1cbc1a1453e42d086828099c819c3890e249f11a20d376cca422879ac618312e55d7f4eb138fde3dd3d32d3af038fd201045e87386ad89c503d744f745b56c8c8fd475a3c78d3ad9fb341ba9e2d7a1d1feefa25c86a9f711a879122184824dd15db62d39a32d40598b416659d52a48d592f13e608e16a1ecf1c7e54e8246cc6dee938f365431d089e6cd192b27083e3711f7ac8e37e8c4404a182090c90266fb1914d47bb156d5b32a7d2443dcbe2da765f6b16f15609c2d65b68cbdfa86e7a78a663fbcbe66ab76ce0b1e33a8f57644fd20b8e52b40f65ef6642a84923e9104e1455b0b93f59c5e7d0130f3dfe6fe31818ac4260309ee6d9e2adb7da459bba9414434d484d5ed4cb2533c1b9660aa1faeba063ac3afbeb4e0e2fd135576d271c0088818bbe959049a494814acefb423aefafa37c330a5b7bc1ce6dcbc542bd25d715144f95f4c19ff157a7c8bb8079589ed46f3e1e6b9476a1f1a4047a58812712286d9fb2705aa1cd825ddd1c7cab535065297b32e4c6db473014a10c0348f68e1b47dfa9583cd1686c283e9b3ff99572b134e5db1c1c6e02bdd135c3e1894d03879db7d3fb39fa185f86057ef5e1a6f2e755b65199f376fa65c9a9926126be40c654077251dd32667a3b7988555936674ce113431bb52416d8cc2708f74402ed550db3e91a058c342536a3e3cc0be473e75fc976e67a8d67a56f766eed7e154eced4dbcbe2c58653dda615588c2da5be90255f3dabb1366daf4570d7afc0503190f2a2c0275ac0e8fce6dd2783b4c6c42721321117b067f7f7bb42eed84abec3099ba2cfeb4874bba5cde977fcb84fd742014a6ba556213a148893b66f6a2aebf5dc8529075f91b7fe83bdb976112850d7565724e5a7690b46d4b27dd1c5357151fd37a94999afadbd869fdacb2c02cea83fa7cc539fb51b5e0a09a405041c57eeb839f507dbcdeff2b2b4c59fcdffaaa179191142d2c98721ac35c94116ac87b5d262748213798c8b60e43d315992cbbff82f0e86bcc503419106476e67a82c48d6b6cb09c814d92b8120f38cfbe8a382e1fe39b13c0ae8fde58754d2167fc5b1fc620d03f5638c511fe81a1d49c5a1f15e99642ea4b759c5efd225fddd2b143c7213e43f0ae00a699332b8cd006e9e576f21359721fc33f83907b5a1d51717b27e69ef48a75a1b7eec71f87ad4cb711c28db5630a53f03b63aa65202d39dbd99f38cf620e82473f66985c2772587b016cb844fe5a05b80e3884df40f129714c9d381084e769b45b1ec6542a8a44363c8ff22095f2d1c4e17dd4aa910e02151d8eb3752bb915175ee62a47f4d136fbf01468f14511d5630d0efc8357a36a3ec7e836cb5543a1890e331c9a2d6fef80e14316fefa846d97dd82f46e12a6bb8ca2008d67ebf317234ed4bdbbcc092835fd780a26d7de90f563800788c683e9c73dbf6633549b909b848f7a476feaa0a93b91aa7aabf78e95d0e6be9aab1e443438a7b693080dd2dde9165534d07571a21671a60a81e96d4d93880f413d51a79026f3f457f2f8ae773539f1bbaa3c8847b24b2fde023ba42aaf16852421203e2037c9e81942fff14f20f627ee4d7a2c496240cc143fb9f8795c2cfb07ef991b4daead8d1b608ce62b5a2847d6c9c360044e03469c890158de287397b81876a16b8498d2118e90ef091f5666aa6587532b072b9df9434b5bcc4394e59c07a61f2131642ed5abd4df4e92edf4279993925a6e1be36a2f1662008da9bb6961fd646e0cae2e295261dde5d4cdbb5e2114abbdaaecfcd6810190da8007ef8a8e1a90d90dcf7d6249449f041b6cf25e3e27f48758b7228bd34c24ad9a9ef6f3eb0b8052035b139058373def4a956ed3c1bf9e1349637f3945b8eea68038ebc3e1d8ea1d1fcc04850201e144070ab93e3d5369f2f38fd78284405f2e2aebf207f3bab9602e8e5bfa1117208cde4a9b41fc586f93cf257e33989aa19677bb8768f4bc086f90292676a6fb9e5cda49a39c34be0cb9112f7194ca332c0c98f37acb1731dadfab7109da9b6fa1e0c74fd491b42d37919e395832649fa42316bb200da1c5e23a911d5e8423d86b1ebbc77229bcabd07022c5db7031435229922e9e050936496225ebd43258de127a9184ee791b2330546bbb8ede874d434ce9f6c8de7bd9b9f3dc5d3d38cb4df5d11aa68e6aab6ec5ea0f2049d7ff740669baadf530e5645b13190b638b0d5bbb05a5b119b75240eb2275da91b275c83c8cc739c66539d04a09801cf809a5a12ed177e144e9f76c66af46cd6703a65f86dd3e138bd4d397a8e470316b35b631dfc8acb022beab1b498026e58e8fbfb6b83240e696f3777392c5c531ee8596690153cc0f5790f783451045ac973d82ce588930ce1748332a84e8a6674246a1d64cf48228a20fe263f7325edaf48502b13379ab4bc69ab6a2cd215ef25801ca8cb04a167913d2981fdda252636fbdb508f7f011864282e5efbe58e3494e34a1cbea3493196d9bfe83ba25431b4a8bae7283dd1b78e3cc34fda6b8b010c521cbf519139eea38ff98e6a4631ee53f2663f5af6b434aad1cbce615100780e8cdc67fabce8190339802725d41561fbaacf2812348a68633d23cb9f219b1be81a8fd2a8de2f285fde6ccca2771687e4f3de210fa835b16c6c98d9d71dd275177051b837a44219a166a7ddfd25db87152f7dc6c69e0785ac069e684d6790920e0be4af3b32e436b0b391146a4718d359b5aa57f5eb8856e1c862837911b9f45eb74fac725bc4874ee61d43d1c872f2228de7f46420924f9c67196e35d96752b07159087c253d8385ddae2ba30e8f96d0054ef8aa771e071cabeac2a5e950edab7230473418d8f7e822cf7189f070da2a537762419c7b3cf1613959d2c24157c7975da043089554531905697633f1548c7f40d2d6ff6525da25718736c6084303c1d12ff36dcc62efc9b4802218962fde350a485c88cca59dcfe49fbc4ab1db3ab74f4a955c6f2a32282d940e27f0bb403e98f2ca5d7ae89d9509a41b26f35002d34590fb8bfd61a0c4ad348d0e9d620858098508d622312022f0345ce9a434ec6502288e26331620753f8afcaca42ce2af9d416599be33b3fadab79c16b82801a5813b64b543ddca4439f9937cda7528187883cf25376daf1b4b5389f2d503d07b42732f56639d21bf74153c9508496015597bf36b360b0c8814cc86c6d348ea797fe9a3e4ed1f554fd3c7cbafd92ce8dd8aa92a27020636a6d5149254152e4ec51dcdfabc72cec5a8e3b7182336bef9c5681963d3c6f0e327b724278c5ada2684eeea2d8121ef566bfdff995608fdd17067150d499ed6dcb7111b8e904b9ea5bec3228c2e2d52466b670c2f33cd44a0bb886bec283ba379ffa5adbacac14289071c6c29bf1036d7e0b046b8ce67ad9729bdd9c76534799b037f79ff69950c1d3a68c969531b35e04ef0d09bfe4aa6e58f091fae891d6ac6b724db7a25b58453ed45fd1c35513fecfd5ad6cfa391cc081ad3ebd1f8bc5a948cea6e589641c0ebad42817a403105ac849634f83bce0adcd1a2330a289691675295b60050ebe2f685a054b50b0beffd70e87769f3031f2f1ba2d2e42fbeaa99ac784ef7dd7768a550576fca8e762af836910477e3c8ac69e348e360572258b6a1a62f6c3823bee2ee87b891e4594c282abba4e546b5e006f25936c6888d4a6f6e2a823b37e84c7f021a46b413a279f94697d5e460a5cb59cfb1f334fcbdd5e51c23988bd6760783007c736c64f6d82721708681bdb53f66f87d73c9b8f7d0e5b2eded6f63e00cc6d1459ea7d2bb94e33ddbcccda4fe9398b42df37fe44b89e3b57863bf0bb77e2733479f7a8a518b030d55baecb5eb145194b5caea430ae8372b62be9a99ecffd6f9c75121b046cd5491c4364cf33b5ae31b585f999cd1166cd87241049e6a5e09c749b72fca9c54eedc29fb6f7338eddc0b9a60f5af996c340eaaf4c9a29a6ea579861b15dbd20c36ae16421ef85d6018501f9ebaeb4d7557baf9e1f27903584590058622edd385ccf29145f9344ecb81ee0d9c3ae804c47c583d179b300a2cad652b2e0f723530576d6a175be95e2ea52aa75a39f1f719c240798f6c4c0c030e4cfdeb07d824327f3c24118eef9d918460ce461a16f619a3f112e91981b20238abcc8363a0714b7df3c2c469000f3e9117126f434ef9ca389f6807bd4b25d34ed047a919492aae1296f3012ffd87756783afdab3cae96454fd3c4001e39305678238dc8ea898b55b11f699535088d1c9df2be00223ac7a74cbdf4e8157c4f97d4ea0a56b0317a0afac2893d454d27ee11899b06a4267bd4e80706da321dd2bed1dcaa0043378ad1f2bcfef2edb1104db4df8e1f9eaad4dcdcbe32e0910428e33db9f224a76b4ef0f5da0a66073adda6ad235f72e603ce31952b149d943dbd8b8c54af75bcf9dc5570ce9e274a39d4bd06f3d8b3352905528486df925313f05918b55bfd604a85a9266e59f1d97d03c2645842e49b7a160b074e0b3e443ad944f725549d65ccfd18ad90beb7fa34c22c2ee80855bf7a4cee8ae10b9bfa336352715c286bbe7ddad267c2d4740f13362edf607b40b5bc6167fd36be0f364c1cd3bfbc0f0d41437c589dff91af82cbd023ebba1d3c2ed47e83bffcba313a5c74e091edbbfe9a0cb72feb412871194fd968149216820b7ebaa70a93009eded75e9a8cd77b6dd4bc47a50fa0202b68a201354b2f1eb046784ee6632266d23464f8388797b5a5e0725b8824746cda87f557bb1a05353d16c6ae5fdf345844f60383b0682375c251bcffdc4331c6f1f3ff8cfea972ae481746ca15154b320e205dde679e12166c0321468865dc706b77ed0474bf4f029de7ac8a582dc7387df5be48cdb45f13d43e4d11fc36838902d50798dbafa9f14c3f7942ed512c84b4dd4d9d9b7a0121edb537078ef97854f311c005b81ed03e7867c136e60b57d72a1df354e4feb29815ce3f4bcf381b51b8b89c5590f8f5a63f6b3d4d7afc62aaa80ebd77e3561c79ac991fab9cf9cc9ea0dbb733cf62e9d8c662dd713acabba506fa8fc9983958982d47b6c0d06b1ee7ec8a4407826e10764642240e60fba4b5c37b88b1c5833446c0ce2ad10d135fd4de9f713d624e8061a62bb42a16bc34603acefc877706c9075d8643537f3baf577be85fdc808f667108d18988be94218bd6b03178c3003b2afdbe4d5c8eb00b45228e6d7a5bfda6f1de35ec581ee16bd781a26d5d59d983b4083d48b9a8a767bcbdb1f3f1d4ae0b5ea6e9ad2602333b2cf7bb39faafd73cdc04c5ec4ce9e68bf478a3d0b8f86a20111f7cb509f038fcf10b7275e8145d33e355eae65e1f30db1016085bbc678820049f0f0223abc9b7480332184466617dc86c000adebf8d0684c3eb3e0032ad27a56ed90ebf52efc2cefeccfdfbface374a7b484912c329c2ee4302a86bef67512069a93abf15279e9c5c459bea3903b29cba637f5f0943af82a7cb5c680f5f2eaa8036ceb7f2755caaf01263014727d21d8371120cf43566d93267362d29d03f24e7db31ea1201a85ab329ff7dcffd2b72bbb88d7ed255b818fbec0b5413f446d731dd716941e112f26a18dd4a4b7d1e9ac57ea269bd64038ae50bd875273a0535dd1d8ab0294736e2122a91c0cc8c0d95d6c4fd90f12147405dc84b0a1a81a80f8b429209c24655a8490e6b7268b16ccee507a833461ff787a197ac08b14a060f4bb22c25f4ddb1474402e4755b3b8f42dd1294c730c83172dffc5a5ba95441ec4668a85692755c803c964148c37fd8c1ee1f5458572805b06be8cf6334f4a300dc736d3dc16e042d4010ed7251b6821b60bb4013b39ef21a82af329f86f67aeb6040121268c0bb12730c2c5312afc65e7471dad8da0fced402257101de0bcdc66b35294fe8c1a29e8fe176573eb8eb2c04911e78ec7b99a5b32eec68b4fc07c93a259310167e9c602a59a14afeaeffd2322c631d7fa3e977dc03955e784075d6a5b06d60ee4188c0cf06b4a7600d889a79b8d0e9deb480c42e19cd83c272607fd93aeb6ab571c99f945ccd7a297439ada2935236446fdb8ad55c44a73228ff701ff130ec6807d7b2aca4b7d1a103caec900d6ec0448c5a2b4bc7f2e582eeca37603c5376b5539a3cac0e7b57aef233b94ab8a7d07615655e3b03b6ec1c314774b7aa2c72906684d655da95b32f173338f5ac78b8d0b3bb9bef585511cb801f2c61b6100189d0181674a6db9d2786b44ddc3da4788df80c8fd2b697a62a311e453f16aefa038b2301e4fbd5e49d356dad75349824c436cc47b73c675500fb23c127b53ff8d913f7a1f2aac4fe8249d6121c402195b5f7e85abcc3263ae69e8396904e9947dba1a803244a6da7d640e559b0b48336150087cfd4a8de1c26dcf72bc145a123fa5f26803a99d2f1c3de5d397ced084f7e092e09cebf67df179da14ba55a7951281c592bcd03090495c55662396a8aed4e22a7dc3c7f8637541d6da34e8c4d07ac327d6629b2fd4541f10be197a99570621a84d18ad30c1fda5bfae7abf5f9207cc292010d6e038de8de65476d4f422a7f303e5e57e55ea1ae9ab6ec9491ed82eb4c24291c8a970d8c49902e7a06f2d39d6f5dd77de4fc0ae376f2a04bd9544d9a1287f816acbd440c64918966de10fda6a467e218ee51f4f55544b41aaa79462cbc0bb45bdc6c28ae8884183eddbc2185592b75fc979426090b66ac789045355e3d79a760595a7deb059300fb44fd405ee57b751a67cd423440661402801a55ff18236b52d661df0d50089fe2ecafd4cc2132af7793b7945460872bf97c33d96da0146241fe81c28ba77561ab30f7ac669d4064c79bb7651ac41c3f3971f36eb36f599d06a155df4ebf549a30a318c35ef18ed18eb0eefd9cb69baf7c944af53047757905bcc990685618e47882797822233b94216b51990819a279243e920c2b1afdd3e0046aa5872c237c995280bed012c60344ef25da26528fcf3404041651a2a948c0be565b421c77248b2a1bf56454f7213d7ce543b6d6f84266e360f713fdacbbaed1f0af85d8894b768c90e082fcf463e95ab5ec37ddeb0df9637b6da7a3cccea0571375a8fdd65a7df9c99684bd683d16c8792481c5730324f544a22c4d99e68ad101d30c0928cea0322d832f8dd8cab5a15c41e928942626237488df73351f42de0fb0ce25be63aa1b681527e448dddb7db09a0d37f4a21bd47e9e444c61425a2605334633a68b7feacd8ae63c993c9ceebf951d96b397f9ffe4b2f8338ee69321fdd36e9c1f0f53bb1ba2f20f8da9ca3202c21bef30704488e14f7f14136ecd7558d73a577c7dd964b9109ef7ca341b59067009ce47840b8afebc1fc0990d0f1738c8693c498d1f9eee24fa0bcf739c4fbd572804f85024ae718b1179e271ac3b988124636e387e62cf825609914f12f1c06b039c4a3beef0d6ea13ee7e4abe14365cac982fd2864ae01fd4e0c2147f9c5e989065fa6e6da36e2863e5bfa0619ad06ebd8db98d28b4b20c22731249882eb29e7b1afeb9a7c03ce14fcaebb92d4061ae1073cee04d18d9c802fd2c4fbcc358316ec72a0e5f08b7f72e926981fd9f7f49115a2125a8dca7d4aca10b5e721e0a26bee39e6605aa9ae422d454087e40e0d07fd5e81c72df8d5284b89dd4fc65981ccd83a4069c609a60aa20e8515ef7d315c2d445e587f09841ae001a9aeae784c97be90c0e6279a30b62f53d2123310515a80054e9feb3ed2d4ed0b40e0e78b336f20b21c04a9a2493e9d2f9c3d18714d1624936562ef353aa582bc16c44f4b30b86add87a874a744dbdb1b9c90bd6f87247c4dfe53112af5f8f831542cf424d5d25308906496116fc1158d595dbf80b77a9c7685cd1409d6422359c987a7a6cb50ccb31b011e1d0a5ef12f382c7cd0ad66cf806829f674aa6ae1cf57d7ffedf1d9a15ee298a9b833d5c38677e3a0b10b12bb0ff88d0c11d03eee0827f4890625283912ad426530b6f5c6f2920b87a9f7ee5c19bf875147098f6c1d946e366ac64ca50d83486d33cc5ad76f34f4e198f38cb88327675da2c25e492a587bff8e9ddd2d543fd1a218c0aaae2fce57415e58a30f22f6bc466759e700fc3f91d82a5a0eb4e35d501ab041e2deae0387c1f8a5739be68b2403878e28894f5d4ebe1b3d53dc2a9d7b3a23a2134f0cf65447f04545a862f8e57c61c23b3ec43ef85e686190376d1cfdbe669860a82a2c2bbe091fa007bc830b5d4af9205a704af53ca427d8e26d6ded7cadac218bd48c572d288bfb8fb8935ca2c3563077e3b3cb63b4a3a3ac2315ac19819e15ed7b775fcb2e07af018cf63b48d3fea098dd5ad68f5be4d911181d0e5ec06c9b3e99697dc5be0495a0b81d76fb1e6f1c396d482e1c73388cfeefcb1cb6ecb361808b9ed3c1ee89f0a24d9b27fc07c60b2b27c4b8632539f73286e5d057d1236fc24cd364223d0a204a966d868f1f756640e5ba04c1c5f637593b12b2cbdc0801d8687ec087d424a4d6e098d3d035adfced7c4e693e5e2857c9527bf5bf41c7fb22066de0829e8e35a8806c0eed84e621f18f64c754f4230aa431730123b9300aefa7f662b58dc8da6951894fa07695d29954b5affe5125ccec42692eec9245a1c8124f480821cc7020a20ea25565ea9de6c2c378cfe152ffc75a342e1435d23433a39149d5f84d62c15f0fe229a65566af9111d52e4e9cc4a97cf7a47c9eeb3afd6cbc85e5d8e8bd698c1cfda5a2e876f622367facb3a0a8027355a196102a9dec697fad784caf97d99ee55108d3e62d7b5529158a823fa69991e28cc92c8aede2bf528fc67fb10937973355131eb002b326add389616c7e59241eb049f0e9224712d271b0737e1406b5be9d3c7eb106972c208efca8b2036f89ac36a2460e64efc62f662a714eb4c6b72046304cb9b83c8336e5dbd28b8561b3e23e1a27f09367b3c9dff3f1b735c97f4fd03174098b18f0fc1414b839e5e2741f3a6ad48cd58cdbe997513f6bcc820e7b9b5b1cfb63601a96b556b88796b91ae0381ce51c16457a6e2adddb093803ab76817ff3e54430f6f57d40ffb7e372a193d7ff753364c712f2e934b0751db140ae98649b3c0ebfef340e3b433d920785f116e4df982e4426224795305a0b422757ebbf212770939bd441d4ad0fc028e984b82efa99d619edd8bb4c30ae0981dc6ada7feb86b58cab456dbcb79bfd6a32218e41a37e65539264c3a304ceef8c4ce3e0eae77359828e5fde8059286e9b3b9fd8928a371810b66deafb810dd97106b318eb352792c9e1b001d72c5191a04cd697e87eada5cc4814c26073cf5eb2cf01b774cb6999ced5c41367efd5b3084e0e2c6fe8fe15a5d7493a563417c9a05eaf7573b2a508c855ee834467fcdf4424652c6cbad6799d9d514f8c7bb525a93286c4fcac3e3155c7992fd028bd3b6b7d3d35f56a584c5fd38ece5c565d5b02480a09510b28a25a643529d87b6aec4607193727de7a68b12a6c5c008b01dff3c7e9dfbb5a5f100f899a3ff5ca0b88bb972f653cf535c12fcf89d689191132d35cacef1b77bbfb06010533f45ee5860d33f4894c590b45e8bd60f4e18b663b4d33f8e4ee6739ee2dd2193d092e6b871d08c4b4e3116cdee3476bad8a852bf16cdd106347bacbfc7c19fb696dc7213800af1b83db40ea7407e53fac598e2c47dd81482ef9fb0556d9d00a85d8981aff302052d61efc937709b67a504f53b98516b8b147c95413d330eb2b8e11a0a2729952a3bcd4df77ed6aa60817c7df815d2e5f61c7e1fcca7d9e6d8a611184d82edb3d40e26f53aa0f59b9cd2bb10802acd78333c92d9769e37ff3c30ae16f9974814d46cd2374a00f677e0d7729597aa8eb18f013620833d4f9299ba668fccc08707184379951a3ced89920403a14a0fd7eba4f508c9804e220afc6449cf8281a2dd1f9053f998c44675770f226ee6b0572448cbc040b1a6303f3fcdb6289910d81d055fda90cec35c5dfe0bece2744058bc7aa83f9b0dfc59168788b6ad4ee989c6994b782b0a51881fa9be133460925137b587523498631e1e63f8d2eead43bb8cf1f8291d3283b60941246cea7be420732413b4fafe36d7bc0ffcfbe2ef238419eab37d732673327191f4adf413701de9d7db97769b31e209eb7d431a3e75e66b265ece24ec5b60b16d209ed754e07d856a6e1e0801b7185b0112fe0b0b810629a25004105926b8fad8fe7bb8775f5f543980cfcf912b3ecfe38f7476166b5743b50e9d06b663ef7fca5f7517f2c02e398fa46770a74f460d2117498d4d61cee90fdc6f38419531c3a38a49b6babb9bff2282615847e2ef11d403bbe802c02dca8a3d132292de0e2418f260fc0ccc033640d46b4d821acfc3cdefdf62cc7f62e243dfb7d8b1e64343b4ca19316a3e6541445749bdffec484ca177a5ce569f0a49354646c4faec6dac0113bd13cc99da9b9371edfe74fe25fe3e9cb37424ceae8f6c9eb09e801e994c25a8124d947257cbd1a45832e8f009929a7fa5028191e130e7615b8fd89fde91a2b4f13dc41ad6de91531ef64769bd6675e931053afb462543d212af335da7e022da86898f387047972aadbfad16648ceec5294feeb78e3a232912468e41b39f650ef4284ee9749c69788ba3d1895e4b7a5683ac3bca3a06289ae11cb71744b652aec2acf5e949cb594bb091f491ac200d11ff26e3185c2c4420c76df216ad52e5798d8a8baa8b5ca723296f9d6580bbb577faa8132f366fcf0600898da219d5ea04d05f041f29a4c505e157a07256d95a224652417662f6c995eef3ddb8b8537478f726dc3efde9dc1b8c7e72ec800a085a8799211abff80d249ed464d3d759d84263732699e9d62f25ff5a7fc819d97df30aaf56e5fdd477074b1b9bca890f74c1f22fcefcb1d11d1f2bdc9b75f3b0efa2f25b3dd3c64542a949a43c994d774739f027a29c33f4c9b145351b8ea20ff44e5f11f3f11783d815ae22bf2b5a53f427c5bddade36dffe3851ab63ed4f525feb5f6af6f3b2c48f4898f70db39db1cea8c5ce67f8080fc60d6a2199a710370c510b1f6aefbb27f47f1e89ff4f321fb9514c7b9b2db8906cfee9c4c2d316a9cf7f9bb654fc9e12de983ee0d24fd053ccdd590ec1e1bd77d0cb5ae64949a945d6be8df9d6a474d2a8f6fb6ab4df14d381297eb45045662ed8877aa6a38bf5af324512c90b84a357e15133529cf465983be8e68dfe2773446e3855a8eb4046cb8b1078e1cce61424d6988d05ee2c3d4f90fd696a3863b0556fd4f08c9bce2f64afdee7c744b17559a1dd1bdab5bb16963814f77c358c17f401745203699363b9452e083a1df536a60f9a290a7fbe81fdacb7c2d18cfde378deeec9740518a9982affd6b48bda19a413b8645e63ae5fba958092358bb5bdc9a14c8601e7f13511ae3a68b55d1349a456af9eddbe84f2a70509b45476a63081805ac0f147e1ee377a22d82762b34bb5950e9982370504d30345ad17c908068ed01d961b475c425b0bc071dcce1b01d9c3a22d1cb02857aae77e4f06c15476352f6d364bb15f4a071578d7d7fb9ecedf73a6b93dabd2c3978408c3e0957683c7bd2c073378c6fa6a036833bb3ebdeaf35d9e713fb0b21ce7741d7a095804ba5cb92f1409e639d6aae70072c519b4d1ac9b0905e00f78f748bf63094da6cc446593a9f2b5ed00de69cb411829db02a451ead543b2c0f78273194646271d1814e2640e72cb3be7421e09304d79e04e82f6aea3aa5178a86b9cd914563649dab1df8a9cc","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"f9d8235ae34d6bcbb22a808c55ba055f"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
